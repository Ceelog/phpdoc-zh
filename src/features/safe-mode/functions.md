被安全模式限制或屏蔽的函数
--------------------------

以下<a href="/features/safe-mode.html" class="link">安全模式</a>列表可能不完整或不正确。

| 函数名                                                                                    | 限制                                                                                                                                                                                                                                                        |
|-------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span class="function">dbmopen</span>                                                     | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">dbase\_open</span>                                                 | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">filepro</span>                                                     | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">filepro\_rowcount</span>                                           | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">filepro\_retrieve</span>                                           | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| ifx\_\*                                                                                   | sql\_safe\_mode 限制, (!= safe mode)                                                                                                                                                                                                                        |
| ingres\_\*                                                                                | sql\_safe\_mode 限制, (!= safe mode)                                                                                                                                                                                                                        |
| mysql\_\*                                                                                 | sql\_safe\_mode 限制, (!= safe mode)                                                                                                                                                                                                                        |
| <span class="function">pg\_loimport</span>                                                | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">posix\_mkfifo</span>                                               | 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                                  |
| <span class="function">putenv</span>                                                      | 遵循 ini 设置的 safe\_mode\_protected\_env\_vars 和 safe\_mode\_allowed\_env\_vars 选项。请参考 <span class="function">putenv</span> 函数的有关文档。                                                                                                       |
| <span class="function">move\_uploaded\_file</span>                                        | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">chdir</span>                                                       | 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                                  |
| <span class="function">dl</span>                                                          | 当 PHP 运行在 <a href="/features/safe-mode.html" class="link">安全模式</a> 时，不能使用此函数。                                                                                                                                                             |
| <a href="/language/operators/execution.html" class="link">backtick operator</a>           | 当 PHP 运行在 <a href="/features/safe-mode.html" class="link">安全模式</a> 时，不能使用此函数。                                                                                                                                                             |
| <span class="function">shell\_exec</span>（在功能上和 backticks 函数相同）                | 当 PHP 运行在 <a href="/features/safe-mode.html" class="link">安全模式</a> 时，不能使用此函数。                                                                                                                                                             |
| <span class="function">exec</span>                                                        | 只能在 <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a> 设置的目录下进行执行操作。基于某些原因，目前不能在可执行对象的路径中使用 *..*。<span class="function">escapeshellcmd</span> 将被作用于此函数的参数上。 |
| <span class="function">system</span>                                                      | 只能在 <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a> 设置的目录下进行执行操作。基于某些原因，目前不能在可执行对象的路径中使用 *..*。<span class="function">escapeshellcmd</span> 将被作用于此函数的参数上。 |
| <span class="function">passthru</span>                                                    | 只能在 <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a> 设置的目录下进行执行操作。基于某些原因，目前不能在可执行对象的路径中使用 *..*。<span class="function">escapeshellcmd</span> 将被作用于此函数的参数上。 |
| <span class="function">popen</span>                                                       | 只能在 <a href="/ini/sect/safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a> 设置的目录下进行执行操作。基于某些原因，目前不能在可执行对象的路径中使用 *..*。<span class="function">escapeshellcmd</span> 将被作用于此函数的参数上。 |
| <span class="function">fopen</span>                                                       | 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                                  |
| <span class="function">mkdir</span>                                                       | 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                                  |
| <span class="function">rmdir</span>                                                       | 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                                  |
| <span class="function">rename</span>                                                      | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                 |
| <span class="function">unlink</span>                                                      | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                 |
| <span class="function">copy</span>                                                        | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 (on `source` and `target`)                                                                                                      |
| <span class="function">chgrp</span>                                                       | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">chown</span>                                                       | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                                                                            |
| <span class="function">chmod</span>                                                       | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 另外，不能设置 SUID、SGID 和 sticky bits                                                                                                                                                   |
| <span class="function">touch</span>                                                       | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。                                                                                                                                 |
| <span class="function">symlink</span>                                                     | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 （注意：仅测试 target）                                                                                                         |
| <span class="function">link</span>                                                        | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 （注意：仅测试 target）                                                                                                         |
| <span class="function">apache\_request\_headers</span>                                    | 在安全模式下，以“authorization”（区分大小写）开头的标头将不会被返回。                                                                                                                                                                                       |
| <span class="function">header</span>                                                      | 在安全模式下，如果设置了 *WWW-Authenticate*，当前脚本的 uid 将被添加到该标头的 *realm* 部分。                                                                                                                                                               |
| <a href="/features/http-auth.html" class="link">PHP_AUTH 变量</a>                         | 在安全模式下，变量 `PHP_AUTH_USER`、`PHP_AUTH_PW` 和 `PHP_AUTH_TYPE` 在 `$_SERVER` 中不可用。但无论如何，您仍然可以使用 `REMOTE_USER` 来获取用户名称（USER）。（注意：仅 PHP 4.3.0 以后有效）                                                               |
| <span class="function">highlight\_file</span>, <span class="function">show\_source</span> | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 （注意，仅在 4.2.1 版本后有效）                                                                                                 |
| <span class="function">parse\_ini\_file</span>                                            | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 （注意，仅在 4.2.1 版本后有效）                                                                                                 |
| <span class="function">set\_time\_limit</span>                                            | 在<a href="/ini/sect/safe-mode.html#ini.safe-mode" class="link">安全模式</a>下不起作用。                                                                                                                                                                    |
| <a href="/info/setup.html#" class="link">max_execution_time</a>                           | 在<a href="/ini/sect/safe-mode.html#ini.safe-mode" class="link">安全模式</a>下不起作用。                                                                                                                                                                    |
| <span class="function">mail</span>                                                        | 在安全模式下，第五个参数被屏蔽。（注意，仅自 PHP 4.2.3 起受影响）                                                                                                                                                                                           |
| <span class="function">session\_start</span>                                              | The owner of a script must be the same as owner of a <a href="/session/setup.html#" class="link">session.save_path</a> directory if the default *files* <a href="/session/setup.html#" class="link">session.save_handler</a> is used.                       |
| All filesystem and stream functions.                                                      | 检查被操作的文件或目录是否与被执行的脚本有相同的 UID（所有者）。 检查被操作的目录是否与被执行的脚本有相同的 UID（所有者）。 (see the <a href="/ini/sect/safe-mode.html#ini.safe-mode-include-dir" class="link">safe_mode_include_dir</a> `php.ini` option.  |
